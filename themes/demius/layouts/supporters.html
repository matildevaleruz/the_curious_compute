{{ define "content" }}
<div class="supporters-page">
  <header class="supporters-header">
    <h1 class="supporters-title">{{ .Title }}</h1>
    {{ with .Content }}
      <div class="supporters-intro">
        <div class="post-content">{{ . }}</div>
      </div>
    {{ end }}
  </header>

  {{ $supportersData := .Site.Data.supporters }}
  
  {{ if $supportersData }}
    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    {{ if $supportersData.statistics }}
      <div class="supporters-statistics">
        <div class="stat-card">
          <div class="stat-icon">ğŸ’°</div>
          <div class="stat-info">
            <div class="stat-value">Â¥{{ $supportersData.statistics.totalAmount }}</div>
            <div class="stat-label">æ€»æ‰“èµé‡‘é¢</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ‘¥</div>
          <div class="stat-info">
            <div class="stat-value">{{ $supportersData.statistics.totalCount }}</div>
            <div class="stat-label">æ”¯æŒäººæ•°</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ“…</div>
          <div class="stat-info">
            <div class="stat-value">{{ $supportersData.statistics.updateDate }}</div>
            <div class="stat-label">æœ€åæ›´æ–°</div>
          </div>
        </div>
      </div>
    {{ end }}

    <!-- æ”¯æŒè€…åˆ†ç»„ -->
    <div class="supporters-container">
      {{ range $supportersData.groups }}
        <div class="supporters-group">
          <h2 class="group-title">{{ .name }}</h2>
          {{ if .description }}
            <p class="group-description">{{ .description }}</p>
          {{ end }}
          
          <div class="supporters-grid">
            {{ range .supporters }}
              <div class="supporter-card level-{{ .level }}">
                {{ if .level }}
                  <div class="supporter-level level-{{ .level }}">
                    {{ if eq .level "gold" }}
                      ğŸ† é‡‘ç‰Œ
                    {{ else if eq .level "silver" }}
                      ğŸ¥ˆ é“¶ç‰Œ
                    {{ else if eq .level "bronze" }}
                      ğŸ¥‰ é“œç‰Œ
                    {{ else }}
                      â­ æ”¯æŒè€…
                    {{ end }}
                  </div>
                {{ end }}
                
                <div class="supporter-avatar">
                  <img src="{{ .avatar }}" alt="{{ .name }}" onerror="this.src='/img/404.jpg'">
                </div>
                
                <div class="supporter-info">
                  <h3 class="supporter-name">{{ .name }}</h3>
                  
                  <div class="supporter-amount">
                    <span class="amount-icon">ğŸ’</span>
                    <span class="amount-value">Â¥{{ .amount }}</span>
                  </div>
                  
                  {{ if .date }}
                    <div class="supporter-date">{{ .date }}</div>
                  {{ end }}
                  
                  {{ if .message }}
                    <div class="supporter-message">
                      <span class="message-icon">ğŸ’¬</span>
                      <span class="message-text">{{ .message }}</span>
                    </div>
                  {{ end }}
                </div>
              </div>
            {{ end }}
          </div>
        </div>
      {{ end }}
    </div>
  {{ else }}
    <div class="supporters-empty">
      <p>æš‚æ— æ”¯æŒè€…æ•°æ®</p>
      <p>è¯·åœ¨ <code>data/supporters.yaml</code> ä¸­æ·»åŠ æ•°æ®</p>
    </div>
  {{ end }}
</div>
{{ end }}

